import { PrismaClient } from '@prisma/client';

// Создаем экземпляр Prisma Client
const prisma = new PrismaClient();

async function main() {
  // Очищаем существующие данные из таблицы новостей
  await prisma.news.deleteMany();

  // Массив с тестовыми данными для новостей
  const news = [
    {
      title: 'Новые технологии в разработке',
      description: 'Обзор последних трендов в мире веб-разработки и технологий',
      content: 'Подробное описание новых технологий и их влияния на современную разработку. Рассматриваются такие технологии как WebAssembly, Edge Computing и Progressive Web Apps.',
      imageUrl: '/images/tech.jpg',
      slug: 'new-tech-development',
    },
    {
      title: 'Искусственный интеллект в 2024',
      description: 'Как ИИ меняет нашу жизнь и индустрию',
      content: 'Детальный анализ влияния искусственного интеллекта на различные сферы жизни. От персональных ассистентов до промышленной автоматизации.',
      imageUrl: '/images/ai.jpg',
      slug: 'ai-in-2024',
    },
    {
      title: 'Будущее веб-разработки',
      description: 'Прогнозы и тенденции в веб-разработке на ближайшие годы',
      content: 'Эксперты делятся своим видением будущего веб-разработки. Обсуждаются новые фреймворки, инструменты и методологии.',
      imageUrl: '/images/future.jpg',
      slug: 'future-of-web-dev',
    },
    {
      title: 'Кибербезопасность в современном мире',
      description: 'Актуальные угрозы и методы защиты в цифровом пространстве',
      content: 'Обзор последних тенденций в области кибербезопасности, включая новые виды угроз и способы защиты от них.',
      imageUrl: '',
      slug: 'cybersecurity-today',
    },
    {
      title: 'Мобильная разработка: тренды 2024',
      description: 'Новые возможности для создания мобильных приложений',
      content: 'Анализ современных подходов к разработке мобильных приложений, включая кросс-платформенные решения и нативную разработку.',
      imageUrl: '',
      slug: 'mobile-dev-trends',
    },
    {
      title: 'Облачные технологии в бизнесе',
      description: 'Как облачные сервисы трансформируют бизнес-процессы',
      content: 'Исследование влияния облачных технологий на современный бизнес, преимущества и потенциальные риски.',
      imageUrl: '',
      slug: 'cloud-tech-business',
    },
    {
      title: 'Квантовые компьютеры: прорыв близок',
      description: 'Последние достижения в области квантовых вычислений',
      content: 'Обзор текущего состояния разработок квантовых компьютеров и их потенциального влияния на технологическую индустрию.',
      imageUrl: '',
      slug: 'quantum-computing',
    },
    {
      title: 'Экологичные технологии',
      description: 'Зеленые инновации в IT-индустрии',
      content: 'Как технологические компании внедряют экологичные решения и снижают углеродный след.',
      imageUrl: '',
      slug: 'green-tech',
    },
    {
      title: 'Метавселенная: новая реальность',
      description: 'Развитие виртуальных миров и их влияние на общество',
      content: 'Исследование концепции метавселенной и её потенциального влияния на работу, общение и развлечения.',
      imageUrl: '',
      slug: 'metaverse-reality',
    },
    {
      title: 'Блокчейн в enterprise-решениях',
      description: 'Применение блокчейн-технологий в корпоративном секторе',
      content: 'Анализ использования блокчейн-технологий в корпоративных решениях и их влияние на бизнес-процессы.',
      imageUrl: '',
      slug: 'blockchain-enterprise',
    },
  ];

  // Добавляем каждую новость в базу данных
  for (const item of news) {
    await prisma.news.create({
      data: item
    });
  }

  console.log('База данных успешно заполнена тестовыми данными');
}

// Запускаем функцию заполнения базы данных
main()
  .catch((e) => {
    console.error(e);
    process.exit(1);
  })
  .finally(async () => {
    // Закрываем соединение с базой данных
    await prisma.$disconnect();
  });
